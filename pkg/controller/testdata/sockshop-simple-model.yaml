# Copyright (c) 2020, Oracle Corporation and/or its affiliates.
# Licensed under the Universal Permissive License v 1.0 as shown at https://oss.oracle.com/licenses/upl.

apiVersion: verrazzano.io/v1beta1
kind: VerrazzanoModel
metadata:
  name: sockshop-simple-model
  namespace: default
spec:
  description: "Sock Shop Model"
  scope: Namespaced
  group: verrazzano.io
  helidonApplications:
    - name: "frontend"
      image: "weaveworksdemos/front-end:0.3.12"
      port: 8080
      targetPort: 8079
      connections:
        - ingress:
            - name: "frontend-ingress"
    - name: "carts"
      port: 80
      targetPort: 7001
      image: "helidonsockshop/carts-core:latest"
    - name: "catalogue"
      port: 80
      targetPort: 7001
      image: "helidonsockshop/catalog-core:latest"
    - name: "orders"
      port: 80
      targetPort: 7001
      image: "helidonsockshop/orders-core:latest"
    - name: "payment"
      port: 80
      targetPort: 7001
      image: "helidonsockshop/payment-core:latest"
    - name: "shipping"
      port: 80
      targetPort: 7001
      image: "helidonsockshop/shipping-core:latest"
    - name: "user"
      port: 80
      targetPort: 7001
      image: "helidonsockshop/users-core:latest"
    - name: "swagger"
      port: 80
      targetPort: 8080
      image: "swaggerapi/swagger-ui:latest"
